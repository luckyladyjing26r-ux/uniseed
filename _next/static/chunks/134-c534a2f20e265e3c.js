"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[134],{2134:function(e,a,t){var r=t(7437),o=t(29),n=t.n(o),s=t(2265),i=t(2530);a.Z=()=>{let e=(0,s.useRef)(null),[a,t]=(0,s.useState)("哈尔滨试验站"),[o,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)("all"),p={哈尔滨试验站:{name:"哈尔滨试验站",value:[126.6,45.8,75],type:"主要试验站",status:"正常运行",soilType:"黑土",soilPH:6.8,organicMatter:4.2,temperature:5.1,humidity:62,rainfall:523,windSpeed:3.8,weatherType:"温带大陆性气候"},佳木斯试验站:{name:"佳木斯试验站",value:[130.4,46.8,78],type:"区域试验站",status:"正常运行",soilType:"草甸土",soilPH:6.5,organicMatter:3.8,temperature:4.8,humidity:65,rainfall:545,windSpeed:3.2,weatherType:"温带季风气候"},大庆试验站:{name:"大庆试验站",value:[125.1,46.6,72],type:"专业试验站",status:"维护中",soilType:"盐碱土",soilPH:8.2,organicMatter:2.1,temperature:4.2,humidity:58,rainfall:432,windSpeed:4.1,weatherType:"温带大陆性气候"},绥化试验站:{name:"绥化试验站",value:[126.9,46.6,76],type:"区域试验站",status:"正常运行",soilType:"黑钙土",soilPH:7.1,organicMatter:3.5,temperature:3.9,humidity:60,rainfall:478,windSpeed:3.5,weatherType:"温带季风气候"},牡丹江试验站:{name:"牡丹江试验站",value:[129.6,44.6,70],type:"山地试验站",status:"正常运行",soilType:"森林土",soilPH:6.2,organicMatter:5.1,temperature:6.2,humidity:68,rainfall:612,windSpeed:2.8,weatherType:"温带季风气候"},齐齐哈尔试验站:{name:"齐齐哈尔试验站",value:[123.9,47.3,74],type:"区域试验站",status:"正常运行",soilType:"黑土",soilPH:6.9,organicMatter:4,temperature:3.5,humidity:55,rainfall:398,windSpeed:4.2,weatherType:"温带大陆性气候"},鸡西试验站:{name:"鸡西试验站",value:[130.9,45.3,68],type:"边境试验站",status:"数据采集中",soilType:"棕壤",soilPH:6.4,organicMatter:3.2,temperature:5.8,humidity:63,rainfall:578,windSpeed:3.1,weatherType:"温带季风气候"},伊春试验站:{name:"伊春试验站",value:[128.9,47.7,80],type:"林区试验站",status:"正常运行",soilType:"森林土",soilPH:5.8,organicMatter:6.3,temperature:2.1,humidity:72,rainfall:689,windSpeed:2.5,weatherType:"温带大陆性气候"}},f={北京:{coords:[116.4,39.9],temp:15.2,rainfall:572,wind:2.8,soilType:"潮土",soilPH:7.2,organicMatter:2.8},上海:{coords:[121.5,31.2],temp:18.5,rainfall:1166,wind:3.2,soilType:"水稻土",soilPH:6.8,organicMatter:3.5},广州:{coords:[113.3,23.1],temp:23.8,rainfall:1736,wind:2.1,soilType:"赤红壤",soilPH:5.9,organicMatter:2.1},成都:{coords:[104.1,30.7],temp:17.8,rainfall:918,wind:1.3,soilType:"紫色土",soilPH:6.5,organicMatter:3.2},西安:{coords:[108.9,34.3],temp:14.9,rainfall:558,wind:2,soilType:"黄绵土",soilPH:7.8,organicMatter:1.9},武汉:{coords:[114.3,30.6],temp:17.5,rainfall:1269,wind:2.3,soilType:"水稻土",soilPH:6.4,organicMatter:3.8},沈阳:{coords:[123.4,41.8],temp:9.2,rainfall:501,wind:3.5,soilType:"棕壤",soilPH:6.1,organicMatter:2.9},长春:{coords:[125.3,43.9],temp:6.8,rainfall:567,wind:3.2,soilType:"黑土",soilPH:6.7,organicMatter:4.2},昆明:{coords:[102.7,25],temp:16.5,rainfall:1035,wind:2.2,soilType:"红壤",soilPH:5.8,organicMatter:2.6},乌鲁木齐:{coords:[87.6,43.8],temp:8.9,rainfall:194,wind:3.6,soilType:"灰漠土",soilPH:8.1,organicMatter:1.2}};return(0,s.useEffect)(()=>{l(!0)},[]),(0,s.useEffect)(()=>{console.log("useEffect triggered, isClient:",o,"chartRef.current:",!!e.current),o&&e.current&&(async()=>{let a;console.log("Starting initChart function");try{var r;console.log("Fetching /100000_full.json...");let e=await fetch("/uniseed/100000_full.json");if(console.log("Fetch response status:",e.status),!e.ok)throw Error("HTTP error! status: ".concat(e.status));a=await e.json(),console.log("Successfully loaded China map data, features count:",null===(r=a.features)||void 0===r?void 0:r.length),i.registerMap("China",a)}catch(e){console.error("Failed to load China map data:",e),console.warn("Using fallback map data"),a={type:"FeatureCollection",features:[{type:"Feature",properties:{name:"中国"},geometry:{type:"Polygon",coordinates:[[[73,53],[135,53],[135,18],[73,18],[73,53]]]}}]},i.registerMap("China",a)}let o=i.getInstanceByDom(e.current);o&&o.dispose(),o=i.init(e.current);let n={title:{text:"",left:"center",textStyle:{fontSize:18,fontWeight:"bold",color:"#2c3e50"}},legend:{orient:"vertical",left:"left",top:"middle",data:[{name:"田间试验站",icon:"circle",itemStyle:{color:"#C37C32"}},{name:"气象站点（含土壤信息）",icon:"circle",itemStyle:{color:"#F8E9D1"}}],textStyle:{fontSize:12}},visualMap:{min:0,max:100,left:"right",top:"bottom",text:["高","低"],realtime:!1,calculable:!0,inRange:{color:["#BFE596","#E0BC6C","#FF6900"]},textStyle:{color:"#666",fontSize:12},formatter:function(e){return"土壤密度: ".concat(e.toFixed(0))}},tooltip:{trigger:"item",formatter:e=>{if("田间试验站"===e.seriesName){let a=p[e.data.name];return'\n                <div style="padding: 10px; line-height: 1.5;">\n                  <strong style="font-size: 14px; color: #2c3e50;">'.concat(e.data.name,'</strong><br/>\n                  <div style="margin-top: 8px;">\n                    <span style="color: #27ae60;">\uD83C\uDFE2 类型: ').concat(a.type,'</span><br/>\n                    <span style="color: #3498db;">\uD83D\uDCCA 状态: ').concat(a.status,'</span><br/>\n                    <span style="color: #8e44ad;">\uD83C\uDF31 土壤: ').concat(a.soilType,'</span><br/>\n                    <span style="color: #f39c12;">\uD83C\uDF21️ 温度: ').concat(a.temperature,'\xb0C</span><br/>\n                    <span style="color: #e74c3c;">\uD83D\uDCA7 降雨: ').concat(a.rainfall,"mm</span>\n                  </div>\n                </div>\n              ")}if("土壤环境"===e.seriesName){let a=p[e.data.name];return'\n                <div style="padding: 10px; line-height: 1.5;">\n                  <strong style="font-size: 14px; color: #8e44ad;">土壤信息</strong><br/>\n                  <div style="margin-top: 8px;">\n                    <span >土壤类型: '.concat(a.soilType,"</span><br/>\n                    <span >pH值: ").concat(a.soilPH,"</span><br/>\n                    <span >有机质: ").concat(a.organicMatter,"%</span>\n                  </div>\n                </div>\n              ")}if("气象站点"===e.seriesName){let a=f[e.data.name];return'\n                <div style="padding: 10px; line-height: 1.5;">\n                  <strong style="font-size: 14px; color: #3498db;">'.concat(e.data.name,' 气象</strong><br/>\n                  <div style="margin-top: 8px;">\n                    <span style="color: #e74c3c;">温度: ').concat(a.temp,'\xb0C</span><br/>\n                    <span style="color: #3498db;">降雨: ').concat(a.rainfall,'mm</span><br/>\n                    <span style="color: #2ecc71;">风速: ').concat(a.wind,"m/s</span>\n                  </div>\n                </div>\n              ")}return e.name},backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#ddd",borderWidth:1,textStyle:{color:"#333"}},geo:{map:"China",roam:!0,zoom:1.3,center:[104,37],label:{emphasis:{show:!1}},itemStyle:{areaColor:"#f8f9fa",borderColor:"#fff",borderWidth:1},regions:(()=>{let e=e=>{let a=Math.max(0,Math.min(1,(e-0)/100));if(a<=.5){let e=a/.5;return"rgb(".concat(Math.round(191+33*e),", ").concat(Math.round(229+-41*e),", ").concat(Math.round(150+-42*e),")")}{let e=(a-.5)/.5;return"rgb(".concat(Math.round(224+31*e),", ").concat(Math.round(188+-83*e),", ").concat(Math.round(108+-108*e),")")}},a={黑龙江省:95,吉林省:90,辽宁省:85,北京市:78,天津市:76,河北省:80,山西省:72,内蒙古自治区:65,上海市:75,江苏省:82,浙江省:78,安徽省:70,福建省:65,江西省:68,山东省:85,广东省:60,广西壮族自治区:55,海南省:50,湖北省:75,湖南省:72,河南省:80,重庆市:55,四川省:58,贵州省:45,云南省:48,西藏自治区:15,陕西省:40,甘肃省:25,青海省:18,宁夏回族自治区:30,新疆维吾尔自治区:12,香港特别行政区:58,澳门特别行政区:58,台湾省:65};return Object.keys(a).map(t=>({name:t,itemStyle:{areaColor:e(a[t])}}))})(),emphasis:{itemStyle:{borderColor:"#fff",borderWidth:2}}},series:(()=>{let e=[];return("all"===c||"stations"===c)&&e.push({name:"田间试验站",type:"scatter",coordinateSystem:"geo",symbol:"pin",symbolSize:20,emphasis:{label:{show:!0,fontSize:12,backgroundColor:"rgba(255,255,255,0.95)"},itemStyle:{borderColor:"#fff",borderWidth:3,shadowColor:"rgba(0,0,0,0.3)",shadowBlur:10,scale:1.2}},itemStyle:{color:function(e){let a=p[e.data.name];return"正常运行"===a.status?"#27ae60":"维护中"===a.status?"#f39c12":"#e74c3c"},borderColor:"#fff",borderWidth:2,shadowColor:function(e){let a=p[e.data.name];return"正常运行"===a.status?"rgba(39,174,96,0.8)":"维护中"===a.status?"rgba(243,156,18,0.8)":"rgba(231,76,60,0.8)"},shadowBlur:15,shadowOffsetX:0,shadowOffsetY:0},animation:!0,animationDuration:2e3,animationEasing:"elasticOut",data:Object.keys(p).map(e=>({name:e,value:p[e].value}))}),("all"===c||"weather"===c)&&e.push({name:"气象站点（含土壤信息）",type:"scatter",coordinateSystem:"geo",symbol:"circle",symbolSize:3,label:{show:!0,position:"top",distance:15,backgroundColor:"rgba(255, 255, 255, 0.9)",borderColor:"#ccc",borderWidth:1,borderRadius:4,padding:[4,8],fontSize:10,color:"#333",formatter:function(e){let a=f[e.data.name];return"{station|".concat(e.data.name,"}\n{temp|").concat(a.temp,"\xb0C} {soil|").concat(a.soilType,"}\n{ph|pH: ").concat(a.soilPH,"} {om|有机质: ").concat(a.organicMatter,"%}")},rich:{station:{fontSize:11,fontWeight:"bold",color:"#2c3e50"},temp:{fontSize:10,color:"#e74c3c"},soil:{fontSize:10,color:"#8b4513"},ph:{fontSize:9,color:"#27ae60"},om:{fontSize:9,color:"#f39c12"}}},labelLine:{show:!0,length:15,length2:5,smooth:!1,lineStyle:{color:"#999",width:1,type:"solid"}},emphasis:{label:{show:!0,fontSize:12,backgroundColor:"rgba(255,255,255,0.95)",formatter:function(e){let a=f[e.data.name];return"".concat(e.data.name,"\n气温: ").concat(a.temp,"\xb0C\n降雨: ").concat(a.rainfall,"mm\n风速: ").concat(a.wind,"m/s\n土壤类型: ").concat(a.soilType,"\npH值: ").concat(a.soilPH,"\n有机质: ").concat(a.organicMatter,"%")}}},itemStyle:{color:function(e){let a=f[e.data.name];if(!a)return"#3498db";let t=a.temp;return t<0?"#0066CC":t<10?"#3399FF":t<20?"#66CCFF":t<30?"#FFCC66":"#FF6666"},opacity:.8,borderColor:"#fff",borderWidth:1},data:Object.keys(f).map(e=>({name:e,value:[...f[e].coords,e]}))}),e})()};o.setOption(n),o.on("click",e=>{"series"===e.componentType&&t(e.data.name)});let s=()=>{o.resize()};return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s),o.dispose()}})()},[o,c]),(0,r.jsxs)("div",{className:"jsx-af5752aed4c9d20c integrated-map-container",children:[(0,r.jsx)("div",{ref:e,className:"jsx-af5752aed4c9d20c chart-container"}),(0,r.jsx)(n(),{id:"af5752aed4c9d20c",children:'.integrated-map-container.jsx-af5752aed4c9d20c{width:100%;background-color:#fff;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;overflow:hidden}.layer-selector.jsx-af5752aed4c9d20c{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:10px;padding:15px;background:-webkit-linear-gradient(315deg,#667eea 0%,#764ba2 100%);background:-moz-linear-gradient(315deg,#667eea 0%,#764ba2 100%);background:-o-linear-gradient(315deg,#667eea 0%,#764ba2 100%);background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);border-bottom:1px solid#e0e0e0}.layer-btn.jsx-af5752aed4c9d20c{padding:8px 16px;border:none;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;background-color:rgba(255,255,255,.2);color:white;font-size:14px;font-weight:500;cursor:pointer;-webkit-transition:all.3s ease;-moz-transition:all.3s ease;-o-transition:all.3s ease;transition:all.3s ease;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.layer-btn.jsx-af5752aed4c9d20c:hover{background-color:rgba(255,255,255,.3);-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px)}.layer-btn.active.jsx-af5752aed4c9d20c{background-color:rgba(255,255,255,.9);color:#2c3e50;-webkit-box-shadow:0 4px 15px rgba(0,0,0,.2);-moz-box-shadow:0 4px 15px rgba(0,0,0,.2);box-shadow:0 4px 15px rgba(0,0,0,.2)}.chart-container.jsx-af5752aed4c9d20c{width:100%;height:600px;background-color:#fff;position:relative}.chart-container.jsx-af5752aed4c9d20c::before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:-webkit-radial-gradient(30%20%,circle,rgba(39,174,96,.1)0%,transparent 50%),-webkit-radial-gradient(70%80%,circle,rgba(52,152,219,.1)0%,transparent 50%),-webkit-radial-gradient(20%70%,circle,rgba(155,89,182,.1)0%,transparent 50%);background:-moz-radial-gradient(30%20%,circle,rgba(39,174,96,.1)0%,transparent 50%),-moz-radial-gradient(70%80%,circle,rgba(52,152,219,.1)0%,transparent 50%),-moz-radial-gradient(20%70%,circle,rgba(155,89,182,.1)0%,transparent 50%);background:-o-radial-gradient(30%20%,circle,rgba(39,174,96,.1)0%,transparent 50%),-o-radial-gradient(70%80%,circle,rgba(52,152,219,.1)0%,transparent 50%),-o-radial-gradient(20%70%,circle,rgba(155,89,182,.1)0%,transparent 50%);background:radial-gradient(circle at 30%20%,rgba(39,174,96,.1)0%,transparent 50%),radial-gradient(circle at 70%80%,rgba(52,152,219,.1)0%,transparent 50%),radial-gradient(circle at 20%70%,rgba(155,89,182,.1)0%,transparent 50%);pointer-events:none;-webkit-animation:backgroundPulse 8s ease-in-out infinite;-moz-animation:backgroundPulse 8s ease-in-out infinite;-o-animation:backgroundPulse 8s ease-in-out infinite;animation:backgroundPulse 8s ease-in-out infinite}@-webkit-keyframes backgroundPulse{0%,100%{opacity:.3}50%{opacity:.6}}@-moz-keyframes backgroundPulse{0%,100%{opacity:.3}50%{opacity:.6}}@-o-keyframes backgroundPulse{0%,100%{opacity:.3}50%{opacity:.6}}@keyframes backgroundPulse{0%,100%{opacity:.3}50%{opacity:.6}}@-webkit-keyframes stationGlow{0%,100%{-webkit-filter:drop-shadow(0 0 8px currentColor)drop-shadow(0 0 16px currentColor);filter:drop-shadow(0 0 8px currentColor)drop-shadow(0 0 16px currentColor);-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-filter:drop-shadow(0 0 12px currentColor)drop-shadow(0 0 24px currentColor);filter:drop-shadow(0 0 12px currentColor)drop-shadow(0 0 24px currentColor);-webkit-transform:scale(1.05);transform:scale(1.05)}}@-moz-keyframes stationGlow{0%,100%{filter:drop-shadow(0 0 8px currentColor)drop-shadow(0 0 16px currentColor);-moz-transform:scale(1);transform:scale(1)}50%{filter:drop-shadow(0 0 12px currentColor)drop-shadow(0 0 24px currentColor);-moz-transform:scale(1.05);transform:scale(1.05)}}@-o-keyframes stationGlow{0%,100%{filter:drop-shadow(0 0 8px currentColor)drop-shadow(0 0 16px currentColor);-o-transform:scale(1);transform:scale(1)}50%{filter:drop-shadow(0 0 12px currentColor)drop-shadow(0 0 24px currentColor);-o-transform:scale(1.05);transform:scale(1.05)}}@keyframes stationGlow{0%,100%{-webkit-filter:drop-shadow(0 0 8px currentColor)drop-shadow(0 0 16px currentColor);filter:drop-shadow(0 0 8px currentColor)drop-shadow(0 0 16px currentColor);-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1)}50%{-webkit-filter:drop-shadow(0 0 12px currentColor)drop-shadow(0 0 24px currentColor);filter:drop-shadow(0 0 12px currentColor)drop-shadow(0 0 24px currentColor);-webkit-transform:scale(1.05);-moz-transform:scale(1.05);-o-transform:scale(1.05);transform:scale(1.05)}}@-webkit-keyframes stationFloat{0%,100%{-webkit-transform:translatey(0px)scale(1);transform:translatey(0px)scale(1)}33%{-webkit-transform:translatey(-3px)scale(1.02);transform:translatey(-3px)scale(1.02)}66%{-webkit-transform:translatey(3px)scale(.98);transform:translatey(3px)scale(.98)}}@-moz-keyframes stationFloat{0%,100%{-moz-transform:translatey(0px)scale(1);transform:translatey(0px)scale(1)}33%{-moz-transform:translatey(-3px)scale(1.02);transform:translatey(-3px)scale(1.02)}66%{-moz-transform:translatey(3px)scale(.98);transform:translatey(3px)scale(.98)}}@-o-keyframes stationFloat{0%,100%{-o-transform:translatey(0px)scale(1);transform:translatey(0px)scale(1)}33%{-o-transform:translatey(-3px)scale(1.02);transform:translatey(-3px)scale(1.02)}66%{-o-transform:translatey(3px)scale(.98);transform:translatey(3px)scale(.98)}}@keyframes stationFloat{0%,100%{-webkit-transform:translatey(0px)scale(1);-moz-transform:translatey(0px)scale(1);-o-transform:translatey(0px)scale(1);transform:translatey(0px)scale(1)}33%{-webkit-transform:translatey(-3px)scale(1.02);-moz-transform:translatey(-3px)scale(1.02);-o-transform:translatey(-3px)scale(1.02);transform:translatey(-3px)scale(1.02)}66%{-webkit-transform:translatey(3px)scale(.98);-moz-transform:translatey(3px)scale(.98);-o-transform:translatey(3px)scale(.98);transform:translatey(3px)scale(.98)}}.station-detail.jsx-af5752aed4c9d20c{background:-webkit-linear-gradient(315deg,#f5f7fa 0%,#c3cfe2 100%);background:-moz-linear-gradient(315deg,#f5f7fa 0%,#c3cfe2 100%);background:-o-linear-gradient(315deg,#f5f7fa 0%,#c3cfe2 100%);background:linear-gradient(135deg,#f5f7fa 0%,#c3cfe2 100%);padding:20px;margin:20px;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;-webkit-box-shadow:0 4px 20px rgba(0,0,0,.1);-moz-box-shadow:0 4px 20px rgba(0,0,0,.1);box-shadow:0 4px 20px rgba(0,0,0,.1)}.station-detail.jsx-af5752aed4c9d20c h3.jsx-af5752aed4c9d20c{margin-top:0;color:#2c3e50;font-size:18px;border-bottom:2px solid#3498db;padding-bottom:10px;margin-bottom:15px}.detail-grid.jsx-af5752aed4c9d20c{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.detail-section.jsx-af5752aed4c9d20c{background-color:rgba(255,255,255,.8);padding:15px;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;-webkit-box-shadow:0 2px 8px rgba(0,0,0,.05);-moz-box-shadow:0 2px 8px rgba(0,0,0,.05);box-shadow:0 2px 8px rgba(0,0,0,.05)}.detail-section.jsx-af5752aed4c9d20c h4.jsx-af5752aed4c9d20c{margin-top:0;margin-bottom:12px;color:#34495e;font-size:14px;border-bottom:1px solid#ecf0f1;padding-bottom:5px}.detail-item.jsx-af5752aed4c9d20c{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:8px 0;border-bottom:1px solid#f8f9fa}.detail-item.jsx-af5752aed4c9d20c:last-child{border-bottom:none}.label.jsx-af5752aed4c9d20c{font-weight:600;color:#34495e;font-size:13px}.value.jsx-af5752aed4c9d20c{color:#2980b9;font-weight:700;font-size:13px}@media(max-width:768px){.chart-container.jsx-af5752aed4c9d20c{height:400px}.layer-selector.jsx-af5752aed4c9d20c{-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.layer-btn.jsx-af5752aed4c9d20c{margin:2px;font-size:12px;padding:6px 12px}.detail-grid.jsx-af5752aed4c9d20c{grid-template-columns:1fr}.station-detail.jsx-af5752aed4c9d20c{margin:10px;padding:15px}}'})]})}}}]);